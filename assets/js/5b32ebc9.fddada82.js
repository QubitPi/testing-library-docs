"use strict";(self.webpackChunkreact_testing_library_docs=self.webpackChunkreact_testing_library_docs||[]).push([[4617],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=s(n),m=i,k=c["".concat(p,".").concat(m)]||c[m]||d[m]||r;return n?a.createElement(k,o(o({ref:t},u),{},{components:n})):a.createElement(k,o({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var s=2;s<r;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4389:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>d});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),o=["components"],l={id:"options",title:"Options"},p=void 0,s={unversionedId:"user-event/options",id:"user-event/options",title:"Options",description:"The following options allow to adjust the behavior of user-event APIs. They",source:"@site/docs/user-event/options.mdx",sourceDirName:"user-event",slug:"/user-event/options",permalink:"/docs/user-event/options",draft:!1,editUrl:"https://github.com/testing-library/testing-library-docs/edit/main/docs/user-event/options.mdx",tags:[],version:"current",lastUpdatedBy:"Jiaqi Liu",lastUpdatedAt:1750827853,formattedLastUpdatedAt:"Jun 25, 2025",frontMatter:{id:"options",title:"Options"},sidebar:"docs",previous:{title:"Setup",permalink:"/docs/user-event/setup"},next:{title:"Pointer",permalink:"/docs/user-event/pointer"}},u={},d=[{value:"advanceTimers",id:"advancetimers",level:3},{value:"applyAccept",id:"applyaccept",level:3},{value:"autoModify",id:"automodify",level:3},{value:"delay",id:"delay",level:3},{value:"document",id:"document",level:3},{value:"keyboardMap",id:"keyboardmap",level:3},{value:"pointerEventsCheck",id:"pointereventscheck",level:3},{value:"pointerMap",id:"pointermap",level:3},{value:"skipAutoClose",id:"skipautoclose",level:3},{value:"skipClick",id:"skipclick",level:3},{value:"skipHover",id:"skiphover",level:3},{value:"writeToClipboard",id:"writetoclipboard",level:3}],c={toc:d};function m(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The following options allow to adjust the behavior of ",(0,r.kt)("inlineCode",{parentName:"p"},"user-event")," APIs. They\ncan be applied per ",(0,r.kt)("a",{parentName:"p",href:"/docs/user-event/setup"},(0,r.kt)("inlineCode",{parentName:"a"},"setup()")),"."),(0,r.kt)("h3",{id:"advancetimers"},"advanceTimers"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"user-event")," adds a ",(0,r.kt)("a",{parentName:"p",href:"#delay"},"delay")," between some subsequent inputs. When using\n",(0,r.kt)("a",{parentName:"p",href:"/docs/using-fake-timers"},"fake timers")," it is necessary to set this option\nto your test runner's time advancement function. For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const user = userEvent.setup({advanceTimers: jest.advanceTimersByTime})\n")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"You may find suggestions to set ",(0,r.kt)("inlineCode",{parentName:"p"},"delay: null")," to prevent test timeouts when\nusing fake timers. That is not recommended, as it may cause unexpected\nbehaviour. Starting from v14.1, we suggest using ",(0,r.kt)("inlineCode",{parentName:"p"},"advanceTimers")," option instead.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"(delay: number) => Promise<void> | void\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"() => Promise.resolve()")),(0,r.kt)("h3",{id:"applyaccept"},"applyAccept"),(0,r.kt)("p",null,"When using ",(0,r.kt)("a",{parentName:"p",href:"/docs/user-event/utility#upload"},(0,r.kt)("inlineCode",{parentName:"a"},"upload()")),", automatically discard files\nthat don't match an ",(0,r.kt)("inlineCode",{parentName:"p"},"accept")," property if such property exists on the element."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"true")),(0,r.kt)("h3",{id:"automodify"},"autoModify"),(0,r.kt)("p",null,"We intend to automatically apply modifier keys for printable characters in the\nfuture.",(0,r.kt)("br",{parentName:"p"}),"\n","I.e. ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," implying ",(0,r.kt)("inlineCode",{parentName:"p"},"{Shift>}a{/Shift}")," if caps lock is not active."),(0,r.kt)("p",null,"This options allows you to opt out of this change in foresight.",(0,r.kt)("br",{parentName:"p"}),"\n","The feature therefore will not constitute a breaking change."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"true")),(0,r.kt)("h3",{id:"delay"},"delay"),(0,r.kt)("p",null,"Between some subsequent inputs like typing a series of characters the code\nexecution is delayed per ",(0,r.kt)("inlineCode",{parentName:"p"},"setTimeout")," for (at least) ",(0,r.kt)("inlineCode",{parentName:"p"},"delay")," milliseconds."),(0,r.kt)("p",null,"This moves the next changes at least to the next macro task and allows other\n(asynchronous) code to run between events."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"null")," prevents ",(0,r.kt)("inlineCode",{parentName:"p"},"setTimeout")," from being called."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"0")),(0,r.kt)("h3",{id:"document"},"document"),(0,r.kt)("p",null,"The document."),(0,r.kt)("p",null,"This defaults to the owner document of an element if an API is called\n",(0,r.kt)("a",{parentName:"p",href:"/docs/user-event/setup#direct-api"},"directly")," with an element and without setup. Otherwise it\nfalls back to the global document."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"element.ownerDocument ?? globalThis.document")),(0,r.kt)("h3",{id:"keyboardmap"},"keyboardMap"),(0,r.kt)("p",null,"An array of keyboard keys the keyboard device consists of."),(0,r.kt)("p",null,"This allows to plug in different layouts / localizations."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default"),":\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/testing-library/user-event/blob/main/src/keyboard/keyMap.ts"},'A "standard" US-104-QWERTY keyboard.')),(0,r.kt)("h3",{id:"pointereventscheck"},"pointerEventsCheck"),(0,r.kt)("p",null,"The pointer API includes a check if an element has or inherits\n",(0,r.kt)("inlineCode",{parentName:"p"},"pointer-events: none"),".",(0,r.kt)("br",{parentName:"p"}),"\n","This check is known to be expensive and very expensive when checking deeply\nnested nodes."),(0,r.kt)("p",null,"This option determines how often the pointer related APIs perform the check."),(0,r.kt)("p",null,"This is a binary flag option. You can combine multiple Levels."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PointerEventsCheckLevel.Never"),":",(0,r.kt)("br",{parentName:"li"}),"No pointer events check"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PointerEventsCheckLevel.EachTarget"),":",(0,r.kt)("br",{parentName:"li"}),"Check each event target once"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PointerEventsCheckLevel.EachApiCall"),":",(0,r.kt)("br",{parentName:"li"}),"Check each event target once per API"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PointerEventsCheckLevel.EachTrigger"),":",(0,r.kt)("br",{parentName:"li"}),"Check pointer events on every user interaction that triggers a bunch of events.\nE.g. once for releasing a mouse button even though this triggers ",(0,r.kt)("inlineCode",{parentName:"li"},"pointerup"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"mouseup"),",\n",(0,r.kt)("inlineCode",{parentName:"li"},"click"),", etc...")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"PointerEventsCheckLevel.EachApiCall")),(0,r.kt)("h3",{id:"pointermap"},"pointerMap"),(0,r.kt)("p",null,"An array of available pointer keys."),(0,r.kt)("p",null,"This allows to plug in different pointer devices."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default"),":\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/testing-library/user-event/blob/main/src/pointer/keyMap.ts"},"A simple mouse and a touchscreen")),(0,r.kt)("h3",{id:"skipautoclose"},"skipAutoClose"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/user-event/utility#type"},(0,r.kt)("inlineCode",{parentName:"a"},"type()"))," automatically releases any keys still pressed\nat the end of the call.",(0,r.kt)("br",{parentName:"p"}),"\n","This option allows to opt out of this feature."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default"),": false"),(0,r.kt)("h3",{id:"skipclick"},"skipClick"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/user-event/utility#type"},(0,r.kt)("inlineCode",{parentName:"a"},"type()"))," implies a click on the element.",(0,r.kt)("br",{parentName:"p"}),"\n","This option allows to opt out of this feature."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default"),": false"),(0,r.kt)("h3",{id:"skiphover"},"skipHover"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/user-event/convenience#click"},(0,r.kt)("inlineCode",{parentName:"a"},"click()"))," implies moving the cursor to the target\nelement first.",(0,r.kt)("br",{parentName:"p"}),"\n","This option allows to opt out of this feature."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default"),": false"),(0,r.kt)("h3",{id:"writetoclipboard"},"writeToClipboard"),(0,r.kt)("p",null,"Write selected data to\n",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Clipboard"},"Clipboard API")," when\na ",(0,r.kt)("inlineCode",{parentName:"p"},"cut")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"copy")," is triggered. The Clipboard API is usually not available to\ntest code. Our ",(0,r.kt)("a",{parentName:"p",href:"/docs/user-event/setup"},(0,r.kt)("inlineCode",{parentName:"a"},"setup()"))," replaces the ",(0,r.kt)("inlineCode",{parentName:"p"},"navigator.clipboard"),"\nproperty with a stub."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"default")," when calling the APIs ",(0,r.kt)("a",{parentName:"p",href:"/docs/user-event/setup#direct-apis"},"directly"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"default")," when calling the APIs on an instance from ",(0,r.kt)("inlineCode",{parentName:"p"},"setup()"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"true")))}m.isMDXComponent=!0}}]);