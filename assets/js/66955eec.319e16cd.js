"use strict";(self.webpackChunkreact_testing_library_docs=self.webpackChunkreact_testing_library_docs||[]).push([[1682],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=p(n),m=l,h=c["".concat(s,".").concat(m)]||c[m]||d[m]||r;return n?a.createElement(h,i(i({ref:t},u),{},{components:n})):a.createElement(h,i({ref:t},u))}));function m(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(7294),l=n(6010);const r="tabItem_Ymn6";function i(e){var t=e.children,n=e.hidden,i=e.className;return a.createElement("div",{role:"tabpanel",className:(0,l.Z)(r,i),hidden:n},t)}},5488:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(7462),l=n(7294),r=n(6010),i=n(2389),o=n(7392),s=n(7094),p=n(2466);const u="tabList__CuJ",d="tabItem_LNqP";function c(e){var t,n,i=e.lazy,c=e.block,m=e.defaultValue,h=e.values,b=e.groupId,k=e.className,y=l.Children.map(e.children,(function(e){if((0,l.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),g=null!=h?h:y.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),f=(0,o.l)(g,(function(e,t){return e.value===t.value}));if(f.length>0)throw new Error('Docusaurus error: Duplicate values "'+f.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var v=null===m?m:null!=(t=null!=m?m:null==(n=y.find((function(e){return e.props.default})))?void 0:n.props.value)?t:y[0].props.value;if(null!==v&&!g.some((function(e){return e.value===v})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+g.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var N=(0,s.U)(),w=N.tabGroupChoices,C=N.setTabGroupChoices,x=(0,l.useState)(v),T=x[0],R=x[1],q=[],A=(0,p.o5)().blockElementScrollPositionUntilNextRender;if(null!=b){var B=w[b];null!=B&&B!==T&&g.some((function(e){return e.value===B}))&&R(B)}var I=function(e){var t=e.currentTarget,n=q.indexOf(t),a=g[n].value;a!==T&&(A(t),R(a),null!=b&&C(b,String(a)))},O=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a,l=q.indexOf(e.currentTarget)+1;n=null!=(a=q[l])?a:q[0];break;case"ArrowLeft":var r,i=q.indexOf(e.currentTarget)-1;n=null!=(r=q[i])?r:q[q.length-1]}null==(t=n)||t.focus()};return l.createElement("div",{className:(0,r.Z)("tabs-container",u)},l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":c},k)},g.map((function(e){var t=e.value,n=e.label,i=e.attributes;return l.createElement("li",(0,a.Z)({role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,key:t,ref:function(e){return q.push(e)},onKeyDown:O,onFocus:I,onClick:I},i,{className:(0,r.Z)("tabs__item",d,null==i?void 0:i.className,{"tabs__item--active":T===t})}),null!=n?n:t)}))),i?(0,l.cloneElement)(y.filter((function(e){return e.props.value===T}))[0],{className:"margin-top--md"}):l.createElement("div",{className:"margin-top--md"},y.map((function(e,t){return(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==T})}))))}function m(e){var t=(0,i.Z)();return l.createElement(c,(0,a.Z)({key:String(t)},e))}},2899:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>b,frontMatter:()=>p,metadata:()=>d,toc:()=>m});var a=n(7462),l=n(3366),r=(n(7294),n(3905)),i=n(5488),o=n(5162),s=["components"],p={id:"byrole",title:"ByRole"},u=void 0,d={unversionedId:"queries/byrole",id:"queries/byrole",title:"ByRole",description:"getByRole, queryByRole, getAllByRole, queryAllByRole, findByRole,",source:"@site/docs/queries/byrole.mdx",sourceDirName:"queries",slug:"/queries/byrole",permalink:"/docs/queries/byrole",draft:!1,editUrl:"https://github.com/testing-library/testing-library-docs/edit/main/docs/queries/byrole.mdx",tags:[],version:"current",lastUpdatedBy:"Jiaqi Liu",lastUpdatedAt:1750828179,formattedLastUpdatedAt:"Jun 25, 2025",frontMatter:{id:"byrole",title:"ByRole"},sidebar:"docs",previous:{title:"About Queries",permalink:"/docs/queries/about"},next:{title:"ByLabelText",permalink:"/docs/queries/bylabeltext"}},c={},m=[{value:"API",id:"api",level:2},{value:"Options",id:"options",level:2},{value:"<code>hidden</code>",id:"hidden",level:3},{value:"<code>selected</code>",id:"selected",level:3},{value:"<code>busy</code>",id:"busy",level:3},{value:"<code>checked</code>",id:"checked",level:3},{value:"<code>current</code>",id:"current",level:3},{value:"<code>pressed</code>",id:"pressed",level:3},{value:"<code>suggest</code>",id:"suggest",level:3},{value:"<code>expanded</code>",id:"expanded",level:3},{value:"<code>queryFallbacks</code>",id:"queryfallbacks",level:3},{value:"<code>level</code>",id:"level",level:3},{value:"<code>value</code>",id:"value",level:3},{value:"<code>description</code>",id:"description",level:3},{value:"Performance",id:"performance",level:2}],h={toc:m};function b(e){var t=e.components,n=(0,l.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"getByRole, queryByRole, getAllByRole, queryAllByRole, findByRole,\nfindAllByRole")),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"getByRole(\n  // If you're using `screen`, then skip the container argument:\n  container: HTMLElement,\n  role: string,\n  options?: {\n    hidden?: boolean = false,\n    name?: TextMatch,\n    description?: TextMatch,\n    selected?: boolean,\n    busy?: boolean,\n    checked?: boolean,\n    pressed?: boolean,\n    suggest?: boolean,\n    current?: boolean | string,\n    expanded?: boolean,\n    queryFallbacks?: boolean,\n    level?: number,\n    value?: {\n      min?: number,\n      max?: number,\n      now?: number,\n      text?: TextMatch,\n    }\n  }): HTMLElement\n")),(0,r.kt)("p",null,"Queries for elements with the given role (and it also accepts a\n",(0,r.kt)("a",{parentName:"p",href:"/docs/queries/about#textmatch"},(0,r.kt)("inlineCode",{parentName:"a"},"TextMatch")),"). Default roles are taken into\nconsideration e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"<button />")," has the ",(0,r.kt)("inlineCode",{parentName:"p"},"button")," role without explicitly setting\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"role")," attribute. Here you can see\n",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/html-aria/#docconformance"},"a table of HTML elements with their default and desired roles"),"."),(0,r.kt)("p",null,"Please note that setting a ",(0,r.kt)("inlineCode",{parentName:"p"},"role")," and/or ",(0,r.kt)("inlineCode",{parentName:"p"},"aria-*")," attribute that matches the\nimplicit ARIA semantics is unnecessary and is ",(0,r.kt)("strong",{parentName:"p"},"not recommended")," as these\nproperties are already set by the browser, and we must not use the ",(0,r.kt)("inlineCode",{parentName:"p"},"role")," and\n",(0,r.kt)("inlineCode",{parentName:"p"},"aria-*")," attributes in a manner that conflicts with the semantics described. For\nexample, a ",(0,r.kt)("inlineCode",{parentName:"p"},"button")," element can't have the ",(0,r.kt)("inlineCode",{parentName:"p"},"role")," attribute of ",(0,r.kt)("inlineCode",{parentName:"p"},"heading"),",\nbecause the ",(0,r.kt)("inlineCode",{parentName:"p"},"button")," element has default characteristics that conflict with the\n",(0,r.kt)("inlineCode",{parentName:"p"},"heading")," role."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Roles are matched literally by string equality, without inheriting from the\nARIA role hierarchy. As a result, querying a superclass role like ",(0,r.kt)("inlineCode",{parentName:"p"},"checkbox"),"\nwill not include elements with a subclass role like ",(0,r.kt)("inlineCode",{parentName:"p"},"switch"),".")),(0,r.kt)("p",null,"You can query the returned element(s) by their\n",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/accname-1.1/"},"accessible name or description"),". The\naccessible name is for simple cases equal to e.g. the label of a form element,\nor the text content of a button, or the value of the ",(0,r.kt)("inlineCode",{parentName:"p"},"aria-label")," attribute. It\ncan be used to query a specific element if multiple elements with the same role\nare present on the rendered content. For an in-depth guide check out\n",(0,r.kt)("a",{parentName:"p",href:"https://www.tpgi.com/what-is-an-accessible-name/"},'"What is an accessible name?" from TPGi'),".\nIf you only query for a single element with ",(0,r.kt)("inlineCode",{parentName:"p"},"getByText('The name')")," it's\noftentimes better to use ",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole(expectedRole, { name: 'The name' })"),". The\naccessible name query does not replace other queries such as ",(0,r.kt)("inlineCode",{parentName:"p"},"*ByAlt")," or\n",(0,r.kt)("inlineCode",{parentName:"p"},"*ByTitle"),". While the accessible name can be equal to these attributes, it does\nnot replace the functionality of these attributes. For example\n",(0,r.kt)("inlineCode",{parentName:"p"},'<img aria-label="fancy image" src="fancy.jpg" />')," will be returned for\n",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('img', { name: 'fancy image' })"),". However, the image will not display\nits description if ",(0,r.kt)("inlineCode",{parentName:"p"},"fancy.jpg")," could not be loaded. Whether you want to assert\nthis functionality in your test or not is up to you."),(0,r.kt)("admonition",{title:"input type password",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Unfortunately, the spec defines that ",(0,r.kt)("inlineCode",{parentName:"p"},'<input type="password" />')," has no implicit\nrole. This means that in order to query this type of element we must fallback to\na less powerful query such as ",(0,r.kt)("a",{parentName:"p",href:"/docs/queries/bylabeltext"},(0,r.kt)("inlineCode",{parentName:"a"},"ByLabelText")),".")),(0,r.kt)("h2",{id:"options"},"Options"),(0,r.kt)("h3",{id:"hidden"},(0,r.kt)("inlineCode",{parentName:"h3"},"hidden")),(0,r.kt)("p",null,"If you set ",(0,r.kt)("inlineCode",{parentName:"p"},"hidden")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," elements that are normally excluded from the\naccessibility tree are considered for the query as well. The default behavior\nfollows ",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/wai-aria-1.2/#tree_exclusion"},"https://www.w3.org/TR/wai-aria-1.2/#tree_exclusion")," with the exception of\n",(0,r.kt)("inlineCode",{parentName:"p"},'role="none"')," and ",(0,r.kt)("inlineCode",{parentName:"p"},'role="presentation"')," which are considered in the query in any\ncase. For example in"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n  <main aria-hidden="true">\n    <button>Open dialog</button>\n  </main>\n  <div role="dialog">\n    <button>Close dialog</button>\n  </div>\n</body>\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('button')")," would only return the ",(0,r.kt)("inlineCode",{parentName:"p"},"Close dialog"),"-button. To make\nassertions about the ",(0,r.kt)("inlineCode",{parentName:"p"},"Open dialog"),"-button you would need to use\n",(0,r.kt)("inlineCode",{parentName:"p"},"getAllByRole('button', { hidden: true })"),"."),(0,r.kt)("p",null,"The default value for ",(0,r.kt)("inlineCode",{parentName:"p"},"hidden")," can\n",(0,r.kt)("a",{parentName:"p",href:"/docs/dom-testing-library/api-configuration#configuration"},"be configured"),"."),(0,r.kt)("h3",{id:"selected"},(0,r.kt)("inlineCode",{parentName:"h3"},"selected")),(0,r.kt)("p",null,"You can filter the returned elements by their selected state by setting\n",(0,r.kt)("inlineCode",{parentName:"p"},"selected: true")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"selected: false"),"."),(0,r.kt)("p",null,"For example in"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n  <div role="tablist">\n    <button role="tab" aria-selected="true">Native</button>\n    <button role="tab" aria-selected="false">React</button>\n    <button role="tab" aria-selected="false">Cypress</button>\n  </div>\n</body>\n')),(0,r.kt)("p",null,'you can get the "Native"-tab by calling ',(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('tab', { selected: true })"),".\nTo learn more about the selected state and which elements can have this state\nsee ",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/wai-aria-1.2/#aria-selected"},"ARIA ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-selected")),"."),(0,r.kt)("h3",{id:"busy"},(0,r.kt)("inlineCode",{parentName:"h3"},"busy")),(0,r.kt)("p",null,"You can filter the returned elements by their busy state by setting ",(0,r.kt)("inlineCode",{parentName:"p"},"busy: true"),"\nor ",(0,r.kt)("inlineCode",{parentName:"p"},"busy: false"),"."),(0,r.kt)("p",null,"For example in"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n  <section>\n    <div role="alert" aria-busy="false">Login failed</div>\n    <div role="alert" aria-busy="true">Error: Loading message...</div>\n  </section>\n</body>\n')),(0,r.kt)("p",null,'you can get the "Login failed" alert by calling\n',(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('alert', { busy: false })"),". To learn more about the busy state see\n",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/wai-aria-1.2/#aria-busy"},"ARIA ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-busy"))," and\n",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-busy"},"MDN ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-busy")," attribute"),"."),(0,r.kt)("h3",{id:"checked"},(0,r.kt)("inlineCode",{parentName:"h3"},"checked")),(0,r.kt)("p",null,"You can filter the returned elements by their checked state by setting\n",(0,r.kt)("inlineCode",{parentName:"p"},"checked: true")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"checked: false"),"."),(0,r.kt)("p",null,"For example in"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n  <section>\n    <button role="checkbox" aria-checked="true">Sugar</button>\n    <button role="checkbox" aria-checked="false">Gummy bears</button>\n    <button role="checkbox" aria-checked="false">Whipped cream</button>\n  </section>\n</body>\n')),(0,r.kt)("p",null,'you can get the "Sugar" option by calling\n',(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('checkbox', { checked: true })"),". To learn more about the checked\nstate and which elements can have this state see\n",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/wai-aria-1.2/#aria-checked"},"ARIA ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-checked")),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note")),(0,r.kt)("p",{parentName:"blockquote"},'Checkboxes have a "mixed" state, which is considered neither checked nor\nunchecked (details ',(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/html-aam-1.0/#details-id-56"},"here"),").")),(0,r.kt)("h3",{id:"current"},(0,r.kt)("inlineCode",{parentName:"h3"},"current")),(0,r.kt)("p",null,"You can filter the returned elements by their current state by setting\n",(0,r.kt)("inlineCode",{parentName:"p"},"current: boolean | string"),". Note that no ",(0,r.kt)("inlineCode",{parentName:"p"},"aria-current")," attribute will match\n",(0,r.kt)("inlineCode",{parentName:"p"},"current: false")," since ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," is the default value for ",(0,r.kt)("inlineCode",{parentName:"p"},"aria-current"),"."),(0,r.kt)("p",null,"For example in"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n  <nav>\n    <a href="current/page" aria-current="page">\ud83d\udc4d</a>\n    <a href="another/page">\ud83d\udc4e</a>\n  </nav>\n</body>\n')),(0,r.kt)("p",null,'you can get the "\ud83d\udc4d" link by calling ',(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('link', { current: 'page' })"),'\nand the "\ud83d\udc4e" by calling ',(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('link', { current: false })"),". To learn more\nabout the current state see\n",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/wai-aria-1.2/#aria-current"},"ARIA ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-current")),"."),(0,r.kt)("h3",{id:"pressed"},(0,r.kt)("inlineCode",{parentName:"h3"},"pressed")),(0,r.kt)("p",null,"Buttons can have a pressed state. You can filter the returned elements by their\npressed state by setting ",(0,r.kt)("inlineCode",{parentName:"p"},"pressed: true")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"pressed: false"),"."),(0,r.kt)("p",null,"For example in"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n  <section>\n    <button aria-pressed="true">\ud83d\udc4d</button>\n    <button aria-pressed="false">\ud83d\udc4e</button>\n  </section>\n</body>\n')),(0,r.kt)("p",null,'you can get the "\ud83d\udc4d" button by calling ',(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('button', { pressed: true })"),".\nTo learn more about the pressed state see\n",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/wai-aria-1.2/#aria-pressed"},"ARIA ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-pressed")),"."),(0,r.kt)("h3",{id:"suggest"},(0,r.kt)("inlineCode",{parentName:"h3"},"suggest")),(0,r.kt)("p",null,"You can disable the ability to\n",(0,r.kt)("a",{parentName:"p",href:"/docs/dom-testing-library/api-configuration#throwsuggestions-experimental"},"throw suggestions"),"\nfor a specific query by setting this value to ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),".",(0,r.kt)("br",{parentName:"p"}),"\n","Setting this value to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," will throw suggestions for the specific query."),(0,r.kt)("h3",{id:"expanded"},(0,r.kt)("inlineCode",{parentName:"h3"},"expanded")),(0,r.kt)("p",null,"You can filter the returned elements by their expanded state by setting\n",(0,r.kt)("inlineCode",{parentName:"p"},"expanded: true")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"expanded: false"),"."),(0,r.kt)("p",null,"For example in"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n  <nav>\n    <ul>\n      <li>\n        <a aria-expanded="false" aria-haspopup="true" href="..."\n          >Expandable Menu Item</a\n        >\n        <ul>\n          <li><a href="#">Submenu Item 1</a></li>\n          <li><a href="#">Submenu Item 1</a></li>\n        </ul>\n      </li>\n      <li><a href="#">Regular Menu Item</a></li>\n    </ul>\n  </nav>\n</body>\n')),(0,r.kt)("p",null,'you can get the "Expandable Menu Item" link by calling\n',(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('link', { expanded: false })"),". To learn more about the expanded state\nand which elements can have this state see\n",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/wai-aria-1.2/#aria-expanded"},"ARIA ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-expanded")),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<div role="dialog">...</div>\n')),(0,r.kt)(i.Z,{defaultValue:"native",values:[{label:"Native",value:"native"},{label:"React",value:"react"},{label:"Angular",value:"angular"},{label:"Cypress",value:"cypress"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"native",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import {screen} from '@testing-library/dom'\n\nconst dialogContainer = screen.getByRole('dialog')\n"))),(0,r.kt)(o.Z,{value:"react",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import {render, screen} from '@testing-library/react'\n\nrender(<MyComponent />)\nconst dialogContainer = screen.getByRole('dialog')\n"))),(0,r.kt)(o.Z,{value:"angular",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"import {render, screen} from '@testing-library/angular'\n\nawait render(MyComponent)\nconst dialogContainer = screen.getByRole('dialog')\n"))),(0,r.kt)(o.Z,{value:"cypress",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"cy.findByRole('dialog').should('exist')\n")))),(0,r.kt)("h3",{id:"queryfallbacks"},(0,r.kt)("inlineCode",{parentName:"h3"},"queryFallbacks")),(0,r.kt)("p",null,"By default, it's assumed that the first role of each element is supported, so\nonly the first role can be queried. If you need to query an element by any of\nits fallback roles instead, you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"queryFallbacks: true"),"."),(0,r.kt)("p",null,"For example, ",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('switch')")," would always match\n",(0,r.kt)("inlineCode",{parentName:"p"},'<div role="switch checkbox" />')," because it's the first role, while\n",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('checkbox')")," would not. However,\n",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('checkbox', { queryFallbacks: true })")," would enable all fallback\nroles and therefore match the same element."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"An element doesn't have multiple roles in a given environment. It has a single\none. Multiple roles in the attribute are evaluated from left to right until\nthe environment finds the first role it understands. This is useful when new\nroles get introduced and you want to start supporting those as well as older\nenvironments that don't understand that role (yet).")),(0,r.kt)("h3",{id:"level"},(0,r.kt)("inlineCode",{parentName:"h3"},"level")),(0,r.kt)("p",null,"An element with the ",(0,r.kt)("inlineCode",{parentName:"p"},"heading")," role can be queried by any heading level\n",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('heading')")," or by a specific heading level using the ",(0,r.kt)("inlineCode",{parentName:"p"},"level")," option\n",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('heading', { level: 2 })"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"level")," option queries the element(s) with the ",(0,r.kt)("inlineCode",{parentName:"p"},"heading")," role matching the\nindicated level determined by the semantic HTML heading elements ",(0,r.kt)("inlineCode",{parentName:"p"},"<h1>-<h6>")," or\nmatching the ",(0,r.kt)("inlineCode",{parentName:"p"},"aria-level")," attribute."),(0,r.kt)("p",null,"Given the example below,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n  <section>\n    <h1>Heading Level One</h1>\n    <h2>First Heading Level Two</h2>\n    <h3>Heading Level Three</h3>\n    <div role="heading" aria-level="2">Second Heading Level Two</div>\n  </section>\n</body>\n')),(0,r.kt)("p",null,"you can query the ",(0,r.kt)("inlineCode",{parentName:"p"},"Heading Level Three")," heading using\n",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('heading', { level: 3 })"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"getByRole('heading', {level: 1})\n// <h1>Heading Level One</h1>\n\ngetAllByRole('heading', {level: 2})\n// [\n//   <h2>First Heading Level Two</h2>,\n//   <div role=\"heading\" aria-level=\"2\">Second Heading Level Two</div>\n// ]\n")),(0,r.kt)("p",null,"While it is possible to explicitly set ",(0,r.kt)("inlineCode",{parentName:"p"},'role="heading"')," and ",(0,r.kt)("inlineCode",{parentName:"p"},"aria-level"),"\nattribute on an element, it is ",(0,r.kt)("strong",{parentName:"p"},"strongly encouraged")," to use the semantic HTML\nheadings ",(0,r.kt)("inlineCode",{parentName:"p"},"<h1>-<h6>"),"."),(0,r.kt)("p",null,"To learn more about the ",(0,r.kt)("inlineCode",{parentName:"p"},"aria-level")," property, see\n",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/wai-aria-1.2/#aria-level"},"ARIA ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-level")),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"level")," option is ",(0,r.kt)("em",{parentName:"p"},"only")," applicable to the ",(0,r.kt)("inlineCode",{parentName:"p"},"heading")," role. An error will\nbe thrown when used with any other role.")),(0,r.kt)("h3",{id:"value"},(0,r.kt)("inlineCode",{parentName:"h3"},"value")),(0,r.kt)("p",null,"A range widget can be queried by any value ",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('spinbutton')")," or by a\nspecific value using the ",(0,r.kt)("inlineCode",{parentName:"p"},"level")," option\n",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('spinbutton', { value: { now: 5, min: 0, max: 10, text: 'medium' } })"),"."),(0,r.kt)("p",null,"Note that you don't have to specify all properties in ",(0,r.kt)("inlineCode",{parentName:"p"},"value"),". A subset is\nsufficient e.g.\n",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole('spinbutton', { value: { now: 5, text: 'medium' } })"),"."),(0,r.kt)("p",null,"Given the example below,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n  <section>\n    <button\n      role="spinbutton"\n      aria-valuenow="5"\n      aria-valuemin="0"\n      aria-valuemax="10"\n      aria-valuetext="medium"\n    >\n      Volume\n    </button>\n    <button\n      role="spinbutton"\n      aria-valuenow="3"\n      aria-valuemin="0"\n      aria-valuemax="10"\n      aria-valuetext="medium"\n    >\n      Pitch\n    </button>\n  </section>\n</body>\n')),(0,r.kt)("p",null,"you can query specific spinbutton(s) with the following queries,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"getByRole('spinbutton', {value: {now: 5}})\n// <button>Volume</button>\n\ngetAllByRole('spinbutton', {value: {min: 0}})\n// [\n//   <button>Volume</button>,\n//   <button>Pitch</button>\n// ]\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Every specified property in ",(0,r.kt)("inlineCode",{parentName:"p"},"value")," must match. For example, if you query for\n",(0,r.kt)("inlineCode",{parentName:"p"},"{value: {min: 0, now: 3}}")," ",(0,r.kt)("inlineCode",{parentName:"p"},"aria-valuemin")," must be equal to 0 ",(0,r.kt)("strong",{parentName:"p"},"AND")," >\n",(0,r.kt)("inlineCode",{parentName:"p"},"aria-valuenow")," must be equal to 3")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"value")," option is ",(0,r.kt)("em",{parentName:"p"},"only")," applicable to certain roles (check the linked MDN\npages below for applicable roles). An error will be thrown when used with any\nother role.")),(0,r.kt)("p",null,"To learn more about the ",(0,r.kt)("inlineCode",{parentName:"p"},"aria-value*")," properties, see\n",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-valuemin"},"MDN ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-valuemin")),",\n",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-valuemax"},"MDN ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-valuemax")),",\n",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-valuenow"},"MDN ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-valuenow")),",\n",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-valuetext"},"MDN ",(0,r.kt)("inlineCode",{parentName:"a"},"aria-valuetext")),"."),(0,r.kt)("h3",{id:"description"},(0,r.kt)("inlineCode",{parentName:"h3"},"description")),(0,r.kt)("p",null,"You can filter the returned elements by their\n",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/accname-1.1/#mapping_additional_nd_description"},"accessible description"),"\nfor those cases where you have several elements with the same role and they\ndon't have an accessible name but they do have a description.",(0,r.kt)("br",null)," This would\nbe the case for elements with\n",(0,r.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/wai-aria-1.1/#alertdialog"},"alertdialog")," role, where the\n",(0,r.kt)("inlineCode",{parentName:"p"},"aria-describedby")," attribute is used to describe the element's content."),(0,r.kt)("p",null,"For example in"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n  <ul>\n    <li role="alertdialog" aria-describedby="notification-id-1">\n      <div><button>Close</button></div>\n      <div id="notification-id-1">You have unread emails</div>\n    </li>\n    <li role="alertdialog" aria-describedby="notification-id-2">\n      <div><button>Close</button></div>\n      <div id="notification-id-2">Your session is about to expire</div>\n    </li>\n  </ul>\n</body>\n')),(0,r.kt)("p",null,"You can query a specific element like this"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"getByRole('alertdialog', {description: 'Your session is about to expire'})\n")),(0,r.kt)("h2",{id:"performance"},"Performance"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"getByRole")," is the most preferred query to use as it most closely resembles the\nuser experience, however the calculations it must perform to provide this\nconfidence can be expensive (particularly with large DOM trees)."),(0,r.kt)("p",null,"Where test performance is a concern it may be desirable to trade some of this\nconfidence for improved performance."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"getByRole")," performance can be improved by setting the option\n",(0,r.kt)("a",{parentName:"p",href:"#hidden"},(0,r.kt)("inlineCode",{parentName:"a"},"hidden"))," to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," and thereby avoid expensive visibility checks.\nNote that in doing so inaccessible elements will now be included in the result."),(0,r.kt)("p",null,"Another option may be to substitute ",(0,r.kt)("inlineCode",{parentName:"p"},"getByRole")," for simpler ",(0,r.kt)("inlineCode",{parentName:"p"},"getByLabelText")," and\n",(0,r.kt)("inlineCode",{parentName:"p"},"getByText")," queries which can be significantly faster though less robust\nalternatives."))}b.isMDXComponent=!0}}]);