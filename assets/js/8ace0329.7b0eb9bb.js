"use strict";(self.webpackChunkreact_testing_library_docs=self.webpackChunkreact_testing_library_docs||[]).push([[8648],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=u(n),m=r,g=c["".concat(s,".").concat(m)]||c[m]||d[m]||i;return n?a.createElement(g,o(o({ref:t},p),{},{components:n})):a.createElement(g,o({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(7294),r=n(6010);const i="tabItem_Ymn6";function o(e){var t=e.children,n=e.hidden,o=e.className;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(i,o),hidden:n},t)}},5488:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(7462),r=n(7294),i=n(6010),o=n(2389),l=n(7392),s=n(7094),u=n(2466);const p="tabList__CuJ",d="tabItem_LNqP";function c(e){var t,n,o=e.lazy,c=e.block,m=e.defaultValue,g=e.values,f=e.groupId,h=e.className,b=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),y=null!=g?g:b.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),k=(0,l.l)(y,(function(e,t){return e.value===t.value}));if(k.length>0)throw new Error('Docusaurus error: Duplicate values "'+k.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var v=null===m?m:null!=(t=null!=m?m:null==(n=b.find((function(e){return e.props.default})))?void 0:n.props.value)?t:b[0].props.value;if(null!==v&&!y.some((function(e){return e.value===v})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+y.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var N=(0,s.U)(),w=N.tabGroupChoices,C=N.setTabGroupChoices,T=(0,r.useState)(v),O=T[0],x=T[1],E=[],j=(0,u.o5)().blockElementScrollPositionUntilNextRender;if(null!=f){var I=w[f];null!=I&&I!==O&&y.some((function(e){return e.value===I}))&&x(I)}var S=function(e){var t=e.currentTarget,n=E.indexOf(t),a=y[n].value;a!==O&&(j(t),x(a),null!=f&&C(f,String(a)))},q=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a,r=E.indexOf(e.currentTarget)+1;n=null!=(a=E[r])?a:E[0];break;case"ArrowLeft":var i,o=E.indexOf(e.currentTarget)-1;n=null!=(i=E[o])?i:E[E.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:(0,i.Z)("tabs-container",p)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":c},h)},y.map((function(e){var t=e.value,n=e.label,o=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:O===t?0:-1,"aria-selected":O===t,key:t,ref:function(e){return E.push(e)},onKeyDown:q,onFocus:S,onClick:S},o,{className:(0,i.Z)("tabs__item",d,null==o?void 0:o.className,{"tabs__item--active":O===t})}),null!=n?n:t)}))),o?(0,r.cloneElement)(b.filter((function(e){return e.props.value===O}))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},b.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==O})}))))}function m(e){var t=(0,o.Z)();return r.createElement(c,(0,a.Z)({key:String(t)},e))}},6685:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>p,default:()=>f,frontMatter:()=>u,metadata:()=>d,toc:()=>m});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=n(5488),l=n(5162),s=["components"],u={id:"api-configuration",title:"Configuration Options"},p=void 0,d={unversionedId:"dom-testing-library/api-configuration",id:"dom-testing-library/api-configuration",title:"Configuration Options",description:"Introduction",source:"@site/docs/dom-testing-library/api-configuration.mdx",sourceDirName:"dom-testing-library",slug:"/dom-testing-library/api-configuration",permalink:"/docs/dom-testing-library/api-configuration",draft:!1,editUrl:"https://github.com/testing-library/testing-library-docs/edit/main/docs/dom-testing-library/api-configuration.mdx",tags:[],version:"current",lastUpdatedBy:"Jiaqi Liu",lastUpdatedAt:1750828179,formattedLastUpdatedAt:"Jun 25, 2025",frontMatter:{id:"api-configuration",title:"Configuration Options"},sidebar:"docs",previous:{title:"Querying Within Elements",permalink:"/docs/dom-testing-library/api-within"},next:{title:"Introduction",permalink:"/docs/dom-testing-library/intro"}},c={},m=[{value:"Introduction",id:"introduction",level:2},{value:"Options",id:"options",level:2},{value:"<code>computedStyleSupportsPseudoElements</code>",id:"computedstylesupportspseudoelements",level:3},{value:"<code>defaultHidden</code>",id:"defaulthidden",level:3},{value:"<code>defaultIgnore</code>",id:"defaultignore",level:3},{value:"<code>showOriginalStackTrace</code>",id:"showoriginalstacktrace",level:3},{value:"<code>throwSuggestions</code> (experimental)",id:"throwsuggestions-experimental",level:3},{value:"<code>testIdAttribute</code>",id:"testidattribute",level:3},{value:"<code>getElementError</code>",id:"getelementerror",level:3},{value:"<code>asyncUtilTimeout</code>",id:"asyncutiltimeout",level:3}],g={toc:m};function f(e){var t=e.components,n=(0,r.Z)(e,s);return(0,i.kt)("wrapper",(0,a.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"The library can be configured via the ",(0,i.kt)("inlineCode",{parentName:"p"},"configure")," function, which accepts:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"a plain JS object; this will be merged into the existing configuration. e.g.\n",(0,i.kt)("inlineCode",{parentName:"li"},"configure({testIdAttribute: 'not-data-testid'})")),(0,i.kt)("li",{parentName:"ul"},"a function; the function will be given the existing configuration, and should\nreturn a plain JS object which will be merged as above, e.g.\n",(0,i.kt)("inlineCode",{parentName:"li"},"configure(existingConfig => ({something: [...existingConfig.something, 'extra value for the something array']}))"))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"Note")),(0,i.kt)("p",{parentName:"blockquote"},"Framework-specific wrappers like React Testing Library may add more options to\nthe ones shown below.")),(0,i.kt)(o.Z,{defaultValue:"native",values:[{label:"Native",value:"native"},{label:"React",value:"react"},{label:"Angular",value:"angular"},{label:"Cypress",value:"cypress"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"native",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="setup-tests.js"',title:'"setup-tests.js"'},"import {configure} from '@testing-library/dom'\nimport serialize from 'my-custom-dom-serializer'\n\nconfigure({\n  testIdAttribute: 'data-my-test-id',\n  getElementError: (message, container) => {\n    const customMessage = [message, serialize(container.firstChild)].join(\n      '\\n\\n',\n    )\n    return new Error(customMessage)\n  },\n})\n"))),(0,i.kt)(l.Z,{value:"react",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="setup-tests.js"',title:'"setup-tests.js"'},"import {configure} from '@testing-library/react'\n\nconfigure({testIdAttribute: 'data-my-test-id'})\n"))),(0,i.kt)(l.Z,{value:"angular",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="setup-tests.ts"',title:'"setup-tests.ts"'},"import {configure} from '@testing-library/angular'\n\nconfigure({\n  dom: {\n    testIdAttribute: 'data-my-test-id',\n  },\n})\n"))),(0,i.kt)(l.Z,{value:"cypress",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="setup-tests.js"',title:'"setup-tests.js"'},"import {configure} from '@testing-library/cypress'\n\nconfigure({testIdAttribute: 'data-my-test-id'})\n")))),(0,i.kt)("h2",{id:"options"},"Options"),(0,i.kt)("h3",{id:"computedstylesupportspseudoelements"},(0,i.kt)("inlineCode",{parentName:"h3"},"computedStyleSupportsPseudoElements")),(0,i.kt)("p",null,"Set to ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," if ",(0,i.kt)("inlineCode",{parentName:"p"},"window.getComputedStyle")," supports pseudo-elements i.e. a\nsecond argument. If you're using testing-library in a browser you almost always\nwant to set this to ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),". Only very old browser don't support this property\n(such as IE 8 and earlier). However, ",(0,i.kt)("inlineCode",{parentName:"p"},"jsdom")," does not support the second\nargument currently. This includes versions of ",(0,i.kt)("inlineCode",{parentName:"p"},"jsdom")," prior to ",(0,i.kt)("inlineCode",{parentName:"p"},"16.4.0")," and any\nversion that logs a ",(0,i.kt)("inlineCode",{parentName:"p"},"not implemented")," warning when calling ",(0,i.kt)("inlineCode",{parentName:"p"},"getComputedStyle"),"\nwith a second argument e.g.\n",(0,i.kt)("inlineCode",{parentName:"p"},"window.getComputedStyle(document.createElement('div'), '::after')"),". Defaults to\n",(0,i.kt)("inlineCode",{parentName:"p"},"false")),(0,i.kt)("h3",{id:"defaulthidden"},(0,i.kt)("inlineCode",{parentName:"h3"},"defaultHidden")),(0,i.kt)("p",null,"The default value for the ",(0,i.kt)("inlineCode",{parentName:"p"},"hidden")," option used by\n",(0,i.kt)("a",{parentName:"p",href:"/docs/queries/byrole"},(0,i.kt)("inlineCode",{parentName:"a"},"getByRole")),". Defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,i.kt)("h3",{id:"defaultignore"},(0,i.kt)("inlineCode",{parentName:"h3"},"defaultIgnore")),(0,i.kt)("p",null,"The default value for the ",(0,i.kt)("a",{parentName:"p",href:"/docs/queries/bytext#ignore"},(0,i.kt)("inlineCode",{parentName:"a"},"ignore")," option")," used by\n",(0,i.kt)("a",{parentName:"p",href:"/docs/queries/bytext"},(0,i.kt)("inlineCode",{parentName:"a"},"getByText")),". Also determines the nodes that are being\nignored when errors are printed."),(0,i.kt)("p",null,"Defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"script, style"),"."),(0,i.kt)("h3",{id:"showoriginalstacktrace"},(0,i.kt)("inlineCode",{parentName:"h3"},"showOriginalStackTrace")),(0,i.kt)("p",null,"By default, ",(0,i.kt)("inlineCode",{parentName:"p"},"waitFor")," will ensure that the stack trace for errors thrown by\nTesting Library is cleaned up and shortened so it's easier for you to identify\nthe part of your code that resulted in the error (async stack traces are hard to\ndebug). If you want to disable this, then set",(0,i.kt)("inlineCode",{parentName:"p"},"showOriginalStackTrace")," to\n",(0,i.kt)("inlineCode",{parentName:"p"},"false"),". You can also disable this for a specific call in the options you pass\nto ",(0,i.kt)("inlineCode",{parentName:"p"},"waitFor"),"."),(0,i.kt)("h3",{id:"throwsuggestions-experimental"},(0,i.kt)("inlineCode",{parentName:"h3"},"throwSuggestions")," (experimental)"),(0,i.kt)("p",null,"When enabled, if ",(0,i.kt)("a",{parentName:"p",href:"/docs/queries/about#priority"},"better queries")," are available, the\ntest will fail and provide a suggested query to use instead. Defaults to\n",(0,i.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,i.kt)("p",null,"To disable a suggestion for a single query just add ",(0,i.kt)("inlineCode",{parentName:"p"},"{suggest:false}")," as an\noption."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"screen.getByTestId('foo', {suggest: false}) // will not throw a suggestion\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"When this option is enabled, it may provide suggestions that lack an\nintuitive implementation. Typically this happens for\n",(0,i.kt)("a",{parentName:"p",href:"https://w3c.github.io/aria/#namefromprohibited"},"roles which cannot be named"),",\nmost notably paragraphs. For instance, if you attempt to use\n",(0,i.kt)("a",{parentName:"p",href:"/docs/queries/bytext"},(0,i.kt)("inlineCode",{parentName:"a"},"getByText")),", you may encounter the following error:"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre"},"TestingLibraryElementError: A better query is available, try this:\n    getByRole('paragraph')\n")),(0,i.kt)("p",{parentName:"admonition"},"However, there is no direct way to query paragraphs using the config object parameter, such as in\n",(0,i.kt)("inlineCode",{parentName:"p"},"getByRole('paragraph', { name: 'Hello World' })"),"."),(0,i.kt)("p",{parentName:"admonition"},"To address this issue, you can leverage a custom function to validate the\nelement's structure, as shown in the example below.\nMore information can be found in the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/testing-library/dom-testing-library/issues/1306"},"GitHub issue")),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-js"},"getByRole('paragraph', {\n  name: (_, element) => element.textContent === 'Hello world',\n})\n"))),(0,i.kt)("h3",{id:"testidattribute"},(0,i.kt)("inlineCode",{parentName:"h3"},"testIdAttribute")),(0,i.kt)("p",null,"The attribute used by ",(0,i.kt)("a",{parentName:"p",href:"/docs/queries/bytestid"},(0,i.kt)("inlineCode",{parentName:"a"},"getByTestId"))," and related queries.\nDefaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"data-testid"),"."),(0,i.kt)("h3",{id:"getelementerror"},(0,i.kt)("inlineCode",{parentName:"h3"},"getElementError")),(0,i.kt)("p",null,"A function that returns the error used when\n",(0,i.kt)("a",{parentName:"p",href:"/docs/queries/about#types-of-queries"},"get or find queries")," fail. Takes the error\nmessage and container object as arguments."),(0,i.kt)("h3",{id:"asyncutiltimeout"},(0,i.kt)("inlineCode",{parentName:"h3"},"asyncUtilTimeout")),(0,i.kt)("p",null,"The global timeout value in milliseconds used by ",(0,i.kt)("inlineCode",{parentName:"p"},"waitFor")," utilities. Defaults\nto 1000ms."))}f.isMDXComponent=!0}}]);